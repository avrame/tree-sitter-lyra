======================
For in loop with range
======================

for i in 1..=3 {
  println("i == #{i}")
}

---

(program
  (for_in_loop
    (for_in_condition
      (for_variable_or_key)
      (range_expr
        (range_start
          (integer))
        (range_end_operator)
        (range_end
          (integer))))
    (for_in_body
      (postfix_expression
        (identifier)
        (function_call
          (value
            (string_literal
              (string_content)
              (string_interpolation
                (identifier)))))))))

======================
For in loop with array
======================

for i in [1,2,3] {
  println("i == #{i}")
}

---

(program
  (for_in_loop
    (for_in_condition
      (for_variable_or_key)
      (array_literal
        (integer)
        (integer)
        (integer)))
    (for_in_body
      (postfix_expression
        (identifier)
        (function_call
          (value
            (string_literal
              (string_content)
              (string_interpolation
                (identifier)))))))))

======================
For in loop with tuple
======================

for i in (1, "2", 3) {
  println("i == #{i}")
}

---

(program
  (for_in_loop
    (for_in_condition
      (for_variable_or_key)
      (tuple_literal
        (tuple_value
          (integer))
        (tuple_value
          (string_literal
            (string_content)))
        (tuple_value
          (integer))))
    (for_in_body
      (postfix_expression
        (identifier)
        (function_call
          (value
            (string_literal
              (string_content)
              (string_interpolation
                (identifier)))))))))

===========================
For in loop with identifier
===========================

let nums = [1, 2, 3]
for i in nums {
  println("i == #{i}")
}

---

(program
  (declaration
    (identifier)
    (array_literal
      (integer)
      (integer)
      (integer)))
  (for_in_loop
    (for_in_condition
      (for_variable_or_key)
      (identifier))
    (for_in_body
      (postfix_expression
        (identifier)
        (function_call
          (value
            (string_literal
              (string_content)
              (string_interpolation
                (identifier)))))))))

===================================
For in loop with postfix expression
===================================

let foo = { bar: [1, 2, 3] }
for i in foo.bar {
  println("i == #{i}")
}

---

(program
  (declaration
    (identifier)
    (struct_literal
      (field_name)
      (field_value
        (array_literal
          (integer)
          (integer)
          (integer)))))
  (for_in_loop
    (for_in_condition
      (for_variable_or_key)
      (postfix_expression
        (identifier)
        (identifier)))
    (for_in_body
      (postfix_expression
        (identifier)
        (function_call
          (value
            (string_literal
              (string_content)
              (string_interpolation
                (identifier)))))))))

===========================================
For in loop without an iterable is an error
:error
===========================================

for foo in {
  // error
}

---

(program
  (ERROR
    "for"
    identifier
    "in"
    "{"))

===========================================
For in loop without an item var is an error
:error
===========================================

for in foo {
  // error
}

---

(ERROR
  "for"
  identifier
  (ERROR)
  "{")

===========================================